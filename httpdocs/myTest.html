<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style>
div#test{ border:#000 1px solid; padding:10px 40px 40px 40px; }
</style>
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
<script>
var pos = 0, find = 0, flag=0, movement=false, test, test_status, question, choice, choices, chA, chB, chC,cch, correct = 0;

   var questions = [{
    question: "1) What is 2*5?",
    choices: [3, 5, 10],
    correctAnswer: 2
  }, {
    question: "2) What is 3*6?",
    choices: [3, 6, 18],
    correctAnswer: 2
  }, {
    question: "3) What is 8*9?",
    choices: [72, 99, 108],
    correctAnswer: 0
  }, {
    question: "4) What is 1*7?",
    choices: [4, 7, 6],
    correctAnswer: 1
  }, {
    question: "5) What is 8*8?",
    choices: [20, 30, 64],
    correctAnswer: 2
  }, {
    question: "6) What is 2*7?",
    choices: [14, 7, 6],
    correctAnswer: 1
  }, {
    question: "7) What is 4*8?",
    choices: [20, 32, 64],
    correctAnswer: 1
  }];

var positions = [];

function randomize(){
	var k = 0;
	 while (k < 5) {
         var randomnumber = Math.floor((Math.random() * 6) + 0);
          if (positions.indexOf(randomnumber) == -1) { 
              positions[k] = randomnumber;
              k++;
          }
     }
}

function _(x){
	return document.getElementById(x);
}
var size = 5;

function start(){
	test = _("test");
	_("test_status").innerHTML = "Test Your Knowledge in RHCP";
	randomize();
	test.innerHTML += "<button onclick='play()'>Play</button>";

}

function play(){
	if(pos<size){
		index = positions[pos];
		showQuestion();
	}else{
		printResults();
		randomize();
		test.innerHTML += "<button onclick='play()'>Play Again</button>";
		return false;
	}
}

function printResults(){
	test.innerHTML = "<h2>You got "+correct+" of "+size+" questions correct</h2>";
		_("test_status").innerHTML = "Test Completed";
		pos = 0;
		correct = 0;
}

function showQuestion(){
	_("test_status").innerHTML = "Question "+(pos+1)+" of "+size;
	question = questions[index].question;
	chA = questions[index].choices[0];
	chB = questions[index].choices[1];
	chC = questions[index].choices[2];
	cch = questions[index].correctAnswer;
	test.innerHTML = "<h3>"+question+"</h3>";
	test.innerHTML += "<input type='image' onclick='markQuestion(chA)' src='images/test2.png' width='100' height='100' name='choices' id='A' > "+chA+"<br> ";
	test.innerHTML += "<input type='image' onclick='markQuestion(chB)' src='images/test2.png' width='100' height='100' name='choices' id='B'> "+chB+"<br>";
	test.innerHTML += "<input type='image' onclick='markQuestion(chC)' src='images/test2.png' width='100' height='100' name='choices' id='C'> "+chC+"<br><br>";
	test.innerHTML += "<button onclick='checkAnswer()'>Submit Answer</button>";
	test.innerHTML += "<button onclick='move()'>Next Answer</button>";
}

function markQuestion(element){
	find=1;
	choice =element;
	if(choice == questions[index].choices[cch]){
		 flag=1;
		correct++;
	}
	else{
		flag=0;
	}
}

function checkAnswer(){
	movement=true;
    if(find==1)
	{
	    if(flag == 1){
		 test.innerHTML += "<input type='image' src='images/correct.png' width='100' height='100' name='choices' > <br> ";
	    }
	    else{
		     test.innerHTML += "<input type='image' src='images/wrong.png' width='100' height='100' name='choices' > <br> ";
	    }
	}
	else{
		  alert('Please make a selection!');
    }
}

function move(){
	if(movement)
	{
	  pos++;
	  find=0;
	  flag=0;
	  movement=false;
	  play();
	}else{
		alert('Please submit an answer!');
	}
}

window.addEventListener("load", start, false);
</script>
</head>
<body>
<h2 id="test_status"></h2>
<div id="test"></div>
</body>
</html>
